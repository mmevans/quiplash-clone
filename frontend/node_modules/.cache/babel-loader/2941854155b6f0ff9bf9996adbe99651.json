{"ast":null,"code":"var _jsxFileName = \"/Users/mmevansjr/dev/mod5/frontend/src/components/PlayerView/PlayerView.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport io from 'socket.io-client';\nimport { setStage } from '../../actions/gameActions';\nimport { getPlayerInfo } from '../../actions/playerActions';\nlet socket;\nconst ENDPOINT = 'localhost:3000';\nexport const PlayerView = props => {\n  const dispatch = useDispatch();\n  const room = useSelector(state => state.joinRoom.room_id);\n  const stage = useSelector(state => state.game.stage);\n  const playerName = useSelector(state => state.joinRoom.name);\n  useEffect(() => {\n    console.log('does this hit?');\n    const timer = setTimeout(() => {\n      dispatch(getPlayerInfo(playerName, room));\n      dispatch(setStage());\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let answers_round_1 = [];\n\n    if (stage === 2) {\n      dispatch(setStage());\n      answers_round_1.push(e.target.answer.value);\n    }\n\n    if (stage === 3) {\n      answers_round_1.push(e.target.answer2.value);\n      socket.emit('send-answers-to-host', {\n        answers_round_1,\n        room,\n        playerName\n      }, () => {});\n      dispatch(setStage());\n    }\n  };\n\n  if (stage === 1) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Get Ready!\"));\n  }\n\n  if (stage === 2) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      row: \"4\",\n      cols: \"50\",\n      name: \"answer1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Next Question!\")));\n  }\n\n  if (stage === 3) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      row: \"4\",\n      cols: \"50\",\n      name: \"answer2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n  if (stage === 4) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Waiting on other players...\"));\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Get Ready!\"));\n};\nexport default PlayerView;","map":{"version":3,"sources":["/Users/mmevansjr/dev/mod5/frontend/src/components/PlayerView/PlayerView.js"],"names":["React","useEffect","useDispatch","useSelector","io","setStage","getPlayerInfo","socket","ENDPOINT","PlayerView","props","dispatch","room","state","joinRoom","room_id","stage","game","playerName","name","console","log","timer","setTimeout","clearTimeout","handleSubmit","e","preventDefault","answers_round_1","push","target","answer","value","answer2","emit"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux';\nimport io from 'socket.io-client';\nimport {setStage} from '../../actions/gameActions'\nimport {getPlayerInfo} from '../../actions/playerActions'\n\n\nlet socket;\nconst ENDPOINT = 'localhost:3000'\n\nexport const PlayerView = (props) => {\n\n    const dispatch = useDispatch();\n    const room = useSelector(state => state.joinRoom.room_id)\n    const stage = useSelector(state => state.game.stage);\n    const playerName = useSelector(state => state.joinRoom.name)\n\n\n    useEffect(() => {\n        console.log('does this hit?')\n        const timer = setTimeout(() => {\n          dispatch(getPlayerInfo(playerName, room))\n          dispatch(setStage())\n        }, 5000);\n        return () => clearTimeout(timer);\n      }, []);\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let answers_round_1 = [];\n        if(stage === 2) {\n            dispatch(setStage())\n            answers_round_1.push(e.target.answer.value)\n        }\n        if(stage === 3) {\n            answers_round_1.push(e.target.answer2.value)\n            socket.emit('send-answers-to-host', {answers_round_1,room, playerName}, () => {})\n            dispatch(setStage())\n        }\n    }\n\n    if(stage === 1) {\n        return (\n            <div>\n                <h1>Get Ready!</h1>\n            </div>\n        )\n    }\n    if(stage === 2) {\n        return (\n            <div>\n                \n                <form onSubmit={(e) => handleSubmit(e)}>\n                    <textarea row='4' cols='50' name='answer1'>\n                    </textarea>\n                    <button>Next Question!</button>\n                </form>\n            </div>\n        )  \n    }\n    if(stage === 3) {\n        return (\n            <div>\n           \n            <form onSubmit={(e) => handleSubmit(e)}>\n                <textarea row='4' cols='50' name='answer2'>\n                </textarea>\n                <button>Submit</button>\n            </form>\n        </div> \n        )\n    }\n    if(stage === 4) {\n        return (\n            <div>\n                <h2>Waiting on other players...</h2>\n            </div>\n        )\n    }\n    return (\n        <div>\n            <h1>Get Ready!</h1> \n        </div>\n    )\n}\n\nexport default PlayerView"]},"metadata":{},"sourceType":"module"}