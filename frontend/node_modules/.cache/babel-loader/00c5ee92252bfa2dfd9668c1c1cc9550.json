{"ast":null,"code":"var _jsxFileName = \"/Users/mmevansjr/dev/mod5/frontend/src/components/PlayerView/PlayerView.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport io from 'socket.io-client';\nimport { setStage } from '../../actions/gameActions';\nimport { setPrompts } from '../../actions/playerActions';\nlet socket;\nconst ENDPOINT = 'localhost:3000';\nexport const PlayerView = props => {\n  const dispatch = useDispatch();\n  const room = useSelector(state => state.joinRoom.room_id);\n  const stage = useSelector(state => state.game.stage);\n  const playerName = useSelector(state => state.joinRoom.name);\n  const prompt1 = useSelector(state => state.player.prompt1);\n  const prompt2 = useSelector(state => state.player.prompt2);\n  const prompt3 = useSelector(state => state.player.prompt3);\n  const prompt4 = useSelector(state => state.player.prompt4);\n  const prompt5 = useSelector(state => state.player.prompt5);\n  const prompt6 = useSelector(state => state.player.prompt6);\n  useEffect(() => {\n    props.players.forEach(player => {\n      if (player.name === playerName) {\n        dispatch(setPrompts(player));\n      }\n    });\n  }, []);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      dispatch(setStage());\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let answers_round_1 = [];\n\n    if (stage === 2) {\n      dispatch(setStage());\n      answers_round_1.push(e.target.answer.value);\n    }\n\n    if (stage === 3) {\n      answers_round_1.push(e.target.answer2.value);\n      socket.emit('send-answers-to-host', {\n        answers_round_1,\n        room,\n        playerName\n      }, () => {});\n      dispatch(setStage());\n    }\n  };\n\n  if (stage === 1) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Get Ready!\"));\n  }\n\n  if (stage === 2) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, prompt1), React.createElement(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      row: \"4\",\n      cols: \"50\",\n      name: \"answer1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Next Question!\")));\n  }\n\n  if (stage === 3) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, prompt2), React.createElement(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      row: \"4\",\n      cols: \"50\",\n      name: \"answer2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n  if (stage === 4) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Waiting on other players...\"));\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Get Ready!\"));\n};\nexport default PlayerView;","map":{"version":3,"sources":["/Users/mmevansjr/dev/mod5/frontend/src/components/PlayerView/PlayerView.js"],"names":["React","useEffect","useDispatch","useSelector","io","setStage","setPrompts","socket","ENDPOINT","PlayerView","props","dispatch","room","state","joinRoom","room_id","stage","game","playerName","name","prompt1","player","prompt2","prompt3","prompt4","prompt5","prompt6","players","forEach","timer","setTimeout","clearTimeout","handleSubmit","e","preventDefault","answers_round_1","push","target","answer","value","answer2","emit"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAAQC,QAAR,QAAuB,2BAAvB;AACA,SAAQC,UAAR,QAAyB,6BAAzB;AAGA,IAAIC,MAAJ;AACA,MAAMC,QAAQ,GAAG,gBAAjB;AAEA,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAEjC,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAMU,IAAI,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,QAAN,CAAeC,OAAzB,CAAxB;AACA,QAAMC,KAAK,GAAGb,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACI,IAAN,CAAWD,KAArB,CAAzB;AACA,QAAME,UAAU,GAAGf,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,QAAN,CAAeK,IAAzB,CAA9B;AACA,QAAMC,OAAO,GAAGjB,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACQ,MAAN,CAAaD,OAAvB,CAA3B;AACA,QAAME,OAAO,GAAGnB,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACQ,MAAN,CAAaC,OAAvB,CAA3B;AACA,QAAMC,OAAO,GAAGpB,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACQ,MAAN,CAAaE,OAAvB,CAA3B;AACA,QAAMC,OAAO,GAAGrB,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACQ,MAAN,CAAaG,OAAvB,CAA3B;AACA,QAAMC,OAAO,GAAGtB,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACQ,MAAN,CAAaI,OAAvB,CAA3B;AACA,QAAMC,OAAO,GAAGvB,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACQ,MAAN,CAAaK,OAAvB,CAA3B;AAGAzB,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,KAAK,CAACiB,OAAN,CAAcC,OAAd,CAAuBP,MAAD,IAAY;AAC9B,UAAGA,MAAM,CAACF,IAAP,KAAgBD,UAAnB,EAA+B;AAC3BP,QAAAA,QAAQ,CAACL,UAAU,CAACe,MAAD,CAAX,CAAR;AACH;AACJ,KAJD;AAKH,GANQ,EAMN,EANM,CAAT;AASApB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM4B,KAAK,GAAGC,UAAU,CAAC,MAAM;AAC7BnB,MAAAA,QAAQ,CAACN,QAAQ,EAAT,CAAR;AACD,KAFuB,EAErB,IAFqB,CAAxB;AAGA,WAAO,MAAM0B,YAAY,CAACF,KAAD,CAAzB;AACD,GALM,EAKJ,EALI,CAAT;;AAQA,QAAMG,YAAY,GAAIC,CAAD,IAAO;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,eAAe,GAAG,EAAtB;;AACA,QAAGnB,KAAK,KAAK,CAAb,EAAgB;AACZL,MAAAA,QAAQ,CAACN,QAAQ,EAAT,CAAR;AACA8B,MAAAA,eAAe,CAACC,IAAhB,CAAqBH,CAAC,CAACI,MAAF,CAASC,MAAT,CAAgBC,KAArC;AACH;;AACD,QAAGvB,KAAK,KAAK,CAAb,EAAgB;AACZmB,MAAAA,eAAe,CAACC,IAAhB,CAAqBH,CAAC,CAACI,MAAF,CAASG,OAAT,CAAiBD,KAAtC;AACAhC,MAAAA,MAAM,CAACkC,IAAP,CAAY,sBAAZ,EAAoC;AAACN,QAAAA,eAAD;AAAiBvB,QAAAA,IAAjB;AAAuBM,QAAAA;AAAvB,OAApC,EAAwE,MAAM,CAAE,CAAhF;AACAP,MAAAA,QAAQ,CAACN,QAAQ,EAAT,CAAR;AACH;AACJ,GAZD;;AAcA,MAAGW,KAAK,KAAK,CAAb,EAAgB;AACZ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CADJ;AAKH;;AACD,MAAGA,KAAK,KAAK,CAAb,EAAgB;AACZ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKI,OAAL,CADJ,EAEI;AAAM,MAAA,QAAQ,EAAGa,CAAD,IAAOD,YAAY,CAACC,CAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAU,MAAA,GAAG,EAAC,GAAd;AAAkB,MAAA,IAAI,EAAC,IAAvB;AAA4B,MAAA,IAAI,EAAC,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CAFJ,CADJ;AAUH;;AACD,MAAGjB,KAAK,KAAK,CAAb,EAAgB;AACZ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKM,OAAL,CADA,EAEA;AAAM,MAAA,QAAQ,EAAGW,CAAD,IAAOD,YAAY,CAACC,CAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAU,MAAA,GAAG,EAAC,GAAd;AAAkB,MAAA,IAAI,EAAC,IAAvB;AAA4B,MAAA,IAAI,EAAC,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,CAFA,CADJ;AAUH;;AACD,MAAGjB,KAAK,KAAK,CAAb,EAAgB;AACZ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ,CADJ;AAKH;;AACD,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADJ;AAKH,CAxFM;AA0FP,eAAeP,UAAf","sourcesContent":["import React, {useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux';\nimport io from 'socket.io-client';\nimport {setStage} from '../../actions/gameActions'\nimport {setPrompts} from '../../actions/playerActions'\n\n\nlet socket;\nconst ENDPOINT = 'localhost:3000'\n\nexport const PlayerView = (props) => {\n\n    const dispatch = useDispatch();\n    const room = useSelector(state => state.joinRoom.room_id)\n    const stage = useSelector(state => state.game.stage);\n    const playerName = useSelector(state => state.joinRoom.name)\n    const prompt1 = useSelector(state => state.player.prompt1)\n    const prompt2 = useSelector(state => state.player.prompt2)\n    const prompt3 = useSelector(state => state.player.prompt3)\n    const prompt4 = useSelector(state => state.player.prompt4)\n    const prompt5 = useSelector(state => state.player.prompt5)\n    const prompt6 = useSelector(state => state.player.prompt6)\n\n\n    useEffect(() => {\n        props.players.forEach((player) => {\n            if(player.name === playerName) {\n                dispatch(setPrompts(player))\n            }\n        })\n    }, [])\n\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n          dispatch(setStage())\n        }, 5000);\n        return () => clearTimeout(timer);\n      }, []);\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let answers_round_1 = [];\n        if(stage === 2) {\n            dispatch(setStage())\n            answers_round_1.push(e.target.answer.value)\n        }\n        if(stage === 3) {\n            answers_round_1.push(e.target.answer2.value)\n            socket.emit('send-answers-to-host', {answers_round_1,room, playerName}, () => {})\n            dispatch(setStage())\n        }\n    }\n\n    if(stage === 1) {\n        return (\n            <div>\n                <h1>Get Ready!</h1>\n            </div>\n        )\n    }\n    if(stage === 2) {\n        return (\n            <div>\n                <h1>{prompt1}</h1> \n                <form onSubmit={(e) => handleSubmit(e)}>\n                    <textarea row='4' cols='50' name='answer1'>\n                    </textarea>\n                    <button>Next Question!</button>\n                </form>\n            </div>\n        )  \n    }\n    if(stage === 3) {\n        return (\n            <div>\n            <h1>{prompt2}</h1> \n            <form onSubmit={(e) => handleSubmit(e)}>\n                <textarea row='4' cols='50' name='answer2'>\n                </textarea>\n                <button>Submit</button>\n            </form>\n        </div> \n        )\n    }\n    if(stage === 4) {\n        return (\n            <div>\n                <h2>Waiting on other players...</h2>\n            </div>\n        )\n    }\n    return (\n        <div>\n            <h1>Get Ready!</h1> \n        </div>\n    )\n}\n\nexport default PlayerView"]},"metadata":{},"sourceType":"module"}