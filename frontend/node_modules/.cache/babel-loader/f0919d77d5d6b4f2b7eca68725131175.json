{"ast":null,"code":"import { FETCH_COLLECTION, GET_PLAYERS, ADD_PLAYER, SET_STAGE } from './types';\nexport const getQuestions = () => dispatch => {\n  fetch('http://localhost:3000/collectioncards').then(res => res.json()).then(collection => {\n    var title = collection[0].name;\n    var questions = [];\n    collection.map(index => questions.push(index.prompt));\n    dispatch({\n      type: FETCH_COLLECTION,\n      title,\n      questions\n    });\n  });\n};\nexport const addPlayer = player => async dispatch => {\n  const url = 'http://localhost:3000/players-in-game/';\n  const settings = {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    },\n    body: JSON.stringify(player)\n  };\n  var res = await fetch(url, settings);\n  var newPlayer = await res.json(); //second fetch request for all players in the room\n\n  const url2 = \"http://localhost:3000/players-in-room/\".concat(player.room);\n  var res2 = await fetch(url2);\n  var players = await res2.json();\n  dispatch({\n    type: ADD_PLAYER,\n    newPlayer,\n    players\n  });\n}; // export const getPlayersInRoom = (room_id) => async dispatch => {\n//     const url = `http://localhost:3000/players-in-room/${room_id}`\n//     var res = await fetch(url)\n//     var players = await res.json();\n//     dispatch({\n//         type: GET_PLAYERS,\n//         players\n//     })\n// }\n// export const setStage = () => dispatch => {\n//     dispatch({\n//         type: SET_STAGE\n//     })\n// }","map":{"version":3,"sources":["/Users/mmevansjr/dev/mod5/frontend/src/actions/gameActions.js"],"names":["FETCH_COLLECTION","GET_PLAYERS","ADD_PLAYER","SET_STAGE","getQuestions","dispatch","fetch","then","res","json","collection","title","name","questions","map","index","push","prompt","type","addPlayer","player","url","settings","method","headers","body","JSON","stringify","newPlayer","url2","room","res2","players"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,WAA1B,EAAuCC,UAAvC,EAAmDC,SAAnD,QAAmE,SAAnE;AAIA,OAAO,MAAMC,YAAY,GAAG,MAAMC,QAAQ,IAAI;AAC1CC,EAAAA,KAAK,CAAC,uCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOG,UAAD,IAAgB;AAClB,QAAIC,KAAK,GAAGD,UAAU,CAAC,CAAD,CAAV,CAAcE,IAA1B;AACA,QAAIC,SAAS,GAAG,EAAhB;AAEAH,IAAAA,UAAU,CAACI,GAAX,CAAgBC,KAAD,IACXF,SAAS,CAACG,IAAV,CAAeD,KAAK,CAACE,MAArB,CADJ;AAIAZ,IAAAA,QAAQ,CAAC;AACLa,MAAAA,IAAI,EAAElB,gBADD;AAELW,MAAAA,KAFK;AAGLE,MAAAA;AAHK,KAAD,CAAR;AAKH,GAfD;AAiBH,CAlBM;AAmBP,OAAO,MAAMM,SAAS,GAAIC,MAAD,IAAY,MAAMf,QAAN,IAAkB;AAC/C,QAAMgB,GAAG,GAAG,wCAAZ;AACA,QAAMC,QAAQ,GAAG;AACbC,IAAAA,MAAM,EAAE,MADK;AAEbC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL,gBAAU;AAFL,KAFI;AAMbC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,MAAf;AANO,GAAjB;AAQA,MAAIZ,GAAG,GAAG,MAAMF,KAAK,CAACe,GAAD,EAAMC,QAAN,CAArB;AACA,MAAIM,SAAS,GAAG,MAAMpB,GAAG,CAACC,IAAJ,EAAtB,CAX+C,CAY/C;;AACA,QAAMoB,IAAI,mDAA4CT,MAAM,CAACU,IAAnD,CAAV;AACA,MAAIC,IAAI,GAAG,MAAMzB,KAAK,CAACuB,IAAD,CAAtB;AACA,MAAIG,OAAO,GAAG,MAAMD,IAAI,CAACtB,IAAL,EAApB;AACAJ,EAAAA,QAAQ,CAAC;AACLa,IAAAA,IAAI,EAAEhB,UADD;AAEL0B,IAAAA,SAFK;AAGLI,IAAAA;AAHK,GAAD,CAAR;AAKP,CArBM,C,CAuBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA","sourcesContent":["import {FETCH_COLLECTION, GET_PLAYERS, ADD_PLAYER, SET_STAGE} from './types'\n\n\n\nexport const getQuestions = () => dispatch => {\n    fetch('http://localhost:3000/collectioncards')\n    .then(res => res.json())\n    .then((collection) => {\n        var title = collection[0].name\n        var questions = [];\n\n        collection.map((index) => (\n            questions.push(index.prompt)\n        ))\n        \n        dispatch({\n            type: FETCH_COLLECTION,\n            title,\n            questions\n        })\n    } \n    )\n}\nexport const addPlayer = (player) => async dispatch => {\n        const url = 'http://localhost:3000/players-in-game/'\n        const settings = {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify(player)\n        }\n        var res = await fetch(url, settings)\n        var newPlayer = await res.json();\n        //second fetch request for all players in the room\n        const url2 = `http://localhost:3000/players-in-room/${player.room}`\n        var res2 = await fetch(url2)\n        var players = await res2.json()\n        dispatch({\n            type: ADD_PLAYER,\n            newPlayer,\n            players\n        })\n}\n\n// export const getPlayersInRoom = (room_id) => async dispatch => {\n//     const url = `http://localhost:3000/players-in-room/${room_id}`\n//     var res = await fetch(url)\n//     var players = await res.json();\n//     dispatch({\n//         type: GET_PLAYERS,\n//         players\n//     })\n// }\n\n// export const setStage = () => dispatch => {\n//     dispatch({\n//         type: SET_STAGE\n//     })\n// }"]},"metadata":{},"sourceType":"module"}