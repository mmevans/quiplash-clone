{"ast":null,"code":"import { createStore, compose, applyMiddleware } from 'redux';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers/index';\nimport { persistStore, persistReducer } from 'redux-persist';\n\nfunction saveToLocalStorage(state) {\n  try {\n    localStorage.setItem('token', state.signup.user.token);\n    localStorage.setItem('user_id', state.signup.user.id);\n    localStorage.setItem('isLoggedIn', state.signup.IsLoggedIn);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nconst middleware = [thunk];\nconst persistConfig = {\n  key: 'root',\n  storage: AsyncStorage,\n  whitelist: ['gameReducer'],\n  blacklist: ['userHome', 'joinRoom', 'signup']\n};\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\nconst store = createStore(persistedReducer, compose(applyMiddleware(...middleware), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())); //Middleware: Redux Persist Persiter\n\nlet persistor = persistStore(store);\nstore.subscribe(() => saveToLocalStorage(store.getState()));\nexport { store, persistor };","map":{"version":3,"sources":["/Users/mmevansjr/dev/mod5/frontend/src/store.js"],"names":["createStore","compose","applyMiddleware","AsyncStorage","thunk","rootReducer","persistStore","persistReducer","saveToLocalStorage","state","localStorage","setItem","signup","user","token","id","IsLoggedIn","e","console","log","middleware","persistConfig","key","storage","whitelist","blacklist","persistedReducer","store","window","__REDUX_DEVTOOLS_EXTENSION__","persistor","subscribe","getState"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,OAArB,EAA8BC,eAA9B,QAAoD,OAApD;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,eAA7C;;AAEA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AAC/B,MAAI;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,KAAK,CAACG,MAAN,CAAaC,IAAb,CAAkBC,KAAhD;AACAJ,IAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCF,KAAK,CAACG,MAAN,CAAaC,IAAb,CAAkBE,EAAlD;AACAL,IAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCF,KAAK,CAACG,MAAN,CAAaI,UAAhD;AACH,GAJD,CAIE,OAAMC,CAAN,EAAS;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ;;AAED,MAAMG,UAAU,GAAG,CAAChB,KAAD,CAAnB;AAEA,MAAMiB,aAAa,GAAG;AAClBC,EAAAA,GAAG,EAAE,MADa;AAElBC,EAAAA,OAAO,EAAEpB,YAFS;AAGlBqB,EAAAA,SAAS,EAAE,CACP,aADO,CAHO;AAMlBC,EAAAA,SAAS,EAAE,CACP,UADO,EAEP,UAFO,EAGP,QAHO;AANO,CAAtB;AAYA,MAAMC,gBAAgB,GAAGnB,cAAc,CAACc,aAAD,EAAgBhB,WAAhB,CAAvC;AAEA,MAAMsB,KAAK,GAAG3B,WAAW,CACrB0B,gBADqB,EAErBzB,OAAO,CACPC,eAAe,CAAC,GAAGkB,UAAJ,CADR,EAEPQ,MAAM,CAACC,4BAAP,IAAuCD,MAAM,CAACC,4BAAP,EAFhC,CAFc,CAAzB,C,CAQA;;AACA,IAAIC,SAAS,GAAGxB,YAAY,CAACqB,KAAD,CAA5B;AAGAA,KAAK,CAACI,SAAN,CAAgB,MAAMvB,kBAAkB,CAACmB,KAAK,CAACK,QAAN,EAAD,CAAxC;AAEA,SACIL,KADJ,EAEIG,SAFJ","sourcesContent":["import {createStore, compose, applyMiddleware} from 'redux'\nimport AsyncStorage from '@react-native-community/async-storage';\nimport thunk from 'redux-thunk'\nimport rootReducer from './reducers/index'\nimport { persistStore, persistReducer } from 'redux-persist';\n\nfunction saveToLocalStorage(state) {\n    try {\n        localStorage.setItem('token', state.signup.user.token)\n        localStorage.setItem('user_id', state.signup.user.id)\n        localStorage.setItem('isLoggedIn', state.signup.IsLoggedIn)\n    } catch(e) {\n        console.log(e)\n    }\n}\n\nconst middleware = [thunk];\n\nconst persistConfig = {\n    key: 'root',\n    storage: AsyncStorage,\n    whitelist: [\n        'gameReducer'\n    ],\n    blacklist: [\n        'userHome',\n        'joinRoom',\n        'signup'\n    ]\n}\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nconst store = createStore(\n    persistedReducer, \n    compose(\n    applyMiddleware(...middleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n    )\n)\n\n//Middleware: Redux Persist Persiter\nlet persistor = persistStore(store)\n\n\nstore.subscribe(() => saveToLocalStorage(store.getState()))\n\nexport {\n    store,\n    persistor\n}\n"]},"metadata":{},"sourceType":"module"}