{"ast":null,"code":"var _jsxFileName = \"/Users/mmevansjr/dev/mod5/frontend/src/components/PlayerView/PlayerView.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport io from 'socket.io-client';\nimport { setStage } from '../../actions/gameActions';\nimport { getPlayerInfo, addPlayerAnswers, updateAnswersToState } from '../../actions/playerActions';\nlet socket;\nconst ENDPOINT = 'localhost:3000';\nexport const PlayerView = props => {\n  const dispatch = useDispatch();\n  const room = useSelector(state => state.joinRoom.room_id);\n  const stage = useSelector(state => state.game.stage);\n  const playerName = useSelector(state => state.joinRoom.name);\n  const prompt1 = useSelector(state => state.player.prompt1);\n  const prompt2 = useSelector(state => state.player.prompt2);\n  const prompt3 = useSelector(state => state.player.prompt3);\n  const prompt4 = useSelector(state => state.player.prompt4);\n  const prompt5 = useSelector(state => state.player.prompt5);\n  const prompt6 = useSelector(state => state.player.prompt6);\n  const answers_round_1 = useSelector(state => state.player.answers_round_1);\n  const answers_round_2 = useSelector(state => state.player.answers_round_2);\n  const answers_round_3 = useSelector(state => state.player.answers_round_3);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      dispatch(setStage());\n      dispatch(getPlayerInfo(playerName, room));\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (stage === 2) {\n      dispatch(updateAnswersToState(e.target[0].value, stage));\n      debugger;\n      dispatch(setStage());\n      e.target.reset();\n    }\n\n    if (stage === 3) {\n      dispatch(updateAnswersToState(e.target[0].value, stage));\n      dispatch(setStage());\n      debugger;\n    }\n  };\n\n  useEffect(() => {\n    if (stage === 4) {\n      dispatch(addPlayerAnswers(playerName, room, stage, answers_round_1));\n      dispatch(setStage());\n    }\n  });\n\n  if (stage === 1) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Get Ready!\"));\n  }\n\n  if (stage === 2) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, prompt1 !== undefined ? prompt1 : null), React.createElement(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      row: \"4\",\n      cols: \"50\",\n      name: \"answer1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n  if (stage === 3) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, prompt2 !== undefined ? prompt2 : null), React.createElement(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      row: \"4\",\n      cols: \"50\",\n      name: \"answer2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n  if (stage === 4) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Waiting on other players...\"));\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Get Ready!\"));\n};\nexport default PlayerView;","map":{"version":3,"sources":["/Users/mmevansjr/dev/mod5/frontend/src/components/PlayerView/PlayerView.js"],"names":["React","useEffect","useDispatch","useSelector","io","setStage","getPlayerInfo","addPlayerAnswers","updateAnswersToState","socket","ENDPOINT","PlayerView","props","dispatch","room","state","joinRoom","room_id","stage","game","playerName","name","prompt1","player","prompt2","prompt3","prompt4","prompt5","prompt6","answers_round_1","answers_round_2","answers_round_3","timer","setTimeout","clearTimeout","handleSubmit","e","preventDefault","target","value","reset","undefined"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux';\nimport io from 'socket.io-client';\nimport {setStage} from '../../actions/gameActions'\nimport {getPlayerInfo, addPlayerAnswers, updateAnswersToState} from '../../actions/playerActions'\n\n\nlet socket;\nconst ENDPOINT = 'localhost:3000'\n\nexport const PlayerView = (props) => {\n\n    const dispatch = useDispatch();\n    const room = useSelector(state => state.joinRoom.room_id)\n    const stage = useSelector(state => state.game.stage);\n    const playerName = useSelector(state => state.joinRoom.name)\n    const prompt1 = useSelector(state => state.player.prompt1)\n    const prompt2 = useSelector(state => state.player.prompt2)\n    const prompt3 = useSelector(state => state.player.prompt3)\n    const prompt4 = useSelector(state => state.player.prompt4)\n    const prompt5 = useSelector(state => state.player.prompt5)\n    const prompt6 = useSelector(state => state.player.prompt6)\n    const answers_round_1 = useSelector(state => state.player.answers_round_1)\n    const answers_round_2 = useSelector(state => state.player.answers_round_2)\n    const answers_round_3 = useSelector(state => state.player.answers_round_3)\n\n\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n        dispatch(setStage())\n        dispatch(getPlayerInfo(playerName, room))\n        }, 5000);\n        return () => clearTimeout(timer);\n      }, []);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(stage === 2) {\n            dispatch(updateAnswersToState(e.target[0].value, stage))\n            debugger\n            dispatch(setStage())\n            e.target.reset()\n        }\n        if(stage === 3) {\n            dispatch(updateAnswersToState(e.target[0].value, stage))\n            dispatch(setStage())\n            debugger\n        }\n    }\n\n    useEffect(() => {\n        if(stage === 4) {\n            dispatch(addPlayerAnswers(playerName, room, stage, answers_round_1))\n            dispatch(setStage())\n        }\n    })\n\n    if(stage === 1) {\n        return (\n            <div>\n                <h1>Get Ready!</h1>\n            </div>\n        )\n    }\n    if(stage === 2) {\n        return (\n            <div>\n                <h1>{prompt1 !== undefined ? prompt1 : null}</h1>\n                <form onSubmit={(e) => handleSubmit(e)}>\n                    <textarea row='4' cols='50' name='answer1'>\n                    </textarea>\n                    <button >Submit</button>\n                </form>\n            </div>\n        )  \n    }\n    if(stage === 3) {\n        return (\n            <div>\n           <h1>{prompt2 !== undefined ? prompt2 : null}</h1>\n            <form onSubmit={(e) => handleSubmit(e)}>\n                <textarea row='4' cols='50' name='answer2'>\n                </textarea>\n                <button>Submit</button>\n            </form>\n        </div> \n        )\n    }\n    if(stage === 4) {\n        return (\n            <div>\n                <h2>Waiting on other players...</h2>\n            </div>\n        )\n    }\n    return (\n        <div>\n            <h1>Get Ready!</h1> \n        </div>\n    )\n}\n\nexport default PlayerView"]},"metadata":{},"sourceType":"module"}