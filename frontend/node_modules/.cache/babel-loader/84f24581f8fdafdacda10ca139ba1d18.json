{"ast":null,"code":"import { FETCH_COLLECTION, ADD_PLAYER, REMOVE_PLAYER, REMOVE_ALL_PLAYERS, START_GAME, GET_PLAYERS } from './types';\nexport const getQuestions = () => dispatch => {\n  fetch('http://localhost:3000/collectioncards').then(res => res.json()).then(collection => {\n    var title = collection[0].name;\n    var questions = [];\n    collection.map(index => questions.push(index.prompt));\n    dispatch({\n      type: FETCH_COLLECTION,\n      title,\n      questions\n    });\n  });\n};\nexport const startGame = () => dispatch => {\n  dispatch({\n    type: START_GAME\n  });\n};\n\nfunction handleErrors(response) {\n  if (!response.ok) throw Error(reponse.status);\n  return response;\n}\n\nexport const addPlayer = player => dispatch => {\n  fetch('http://localhost:3000/players-in-game', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(player)\n  }).then(handleErrors).then(res => res.json()).then(newplayer => dispatch({\n    type: ADD_PLAYER,\n    payload: newplayer\n  })).catch(error => console.log(error));\n};\nexport const getPlayers = room_id => dispatch => {\n  fetch(\"http://localhost:3000/players-in-room/\".concat(room_id));\n  dispatch({\n    type: GET_PLAYERS\n  });\n};\nexport const removePlayer = name => dispatch => {\n  dispatch({\n    type: REMOVE_PLAYER,\n    payload: name\n  });\n};\nexport const removeAllPlayers = () => dispatch => {\n  dispatch({\n    type: REMOVE_ALL_PLAYERS\n  });\n};","map":{"version":3,"sources":["/Users/mmevansjr/dev/mod5/frontend/src/actions/gameActions.js"],"names":["FETCH_COLLECTION","ADD_PLAYER","REMOVE_PLAYER","REMOVE_ALL_PLAYERS","START_GAME","GET_PLAYERS","getQuestions","dispatch","fetch","then","res","json","collection","title","name","questions","map","index","push","prompt","type","startGame","handleErrors","response","ok","Error","reponse","status","addPlayer","player","method","headers","body","JSON","stringify","newplayer","payload","catch","error","console","log","getPlayers","room_id","removePlayer","removeAllPlayers"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,UAA1B,EAAsCC,aAAtC,EAAqDC,kBAArD,EAAyEC,UAAzE,EAAqFC,WAArF,QAAuG,SAAvG;AAIA,OAAO,MAAMC,YAAY,GAAG,MAAMC,QAAQ,IAAI;AAC1CC,EAAAA,KAAK,CAAC,uCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOG,UAAD,IAAgB;AAClB,QAAIC,KAAK,GAAGD,UAAU,CAAC,CAAD,CAAV,CAAcE,IAA1B;AACA,QAAIC,SAAS,GAAG,EAAhB;AAEAH,IAAAA,UAAU,CAACI,GAAX,CAAgBC,KAAD,IACXF,SAAS,CAACG,IAAV,CAAeD,KAAK,CAACE,MAArB,CADJ;AAIAZ,IAAAA,QAAQ,CAAC;AACLa,MAAAA,IAAI,EAAEpB,gBADD;AAELa,MAAAA,KAFK;AAGLE,MAAAA;AAHK,KAAD,CAAR;AAKH,GAfD;AAiBH,CAlBM;AAoBP,OAAO,MAAMM,SAAS,GAAG,MAAMd,QAAQ,IAAK;AACxCA,EAAAA,QAAQ,CAAC;AACLa,IAAAA,IAAI,EAAEhB;AADD,GAAD,CAAR;AAGH,CAJM;;AAMP,SAASkB,YAAT,CAAsBC,QAAtB,EAAgC;AAC5B,MAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB,MAAMC,KAAK,CAACC,OAAO,CAACC,MAAT,CAAX;AACjB,SAAOJ,QAAP;AACH;;AAED,OAAO,MAAMK,SAAS,GAAIC,MAAD,IAAYtB,QAAQ,IAAI;AACzCC,EAAAA,KAAK,CAAC,uCAAD,EAA0C;AAC/CsB,IAAAA,MAAM,EAAE,MADuC;AAE/CC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAFsC;AAK/CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,MAAf;AALyC,GAA1C,CAAL,CAOCpB,IAPD,CAOMa,YAPN,EAQCb,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARb,EASCF,IATD,CASM0B,SAAS,IAAI5B,QAAQ,CAAC;AACxBa,IAAAA,IAAI,EAAEnB,UADkB;AAExBmC,IAAAA,OAAO,EAAED;AAFe,GAAD,CAT3B,EAaCE,KAbD,CAaOC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAbhB;AAcP,CAfM;AAiBP,OAAO,MAAMG,UAAU,GAAIC,OAAD,IAAanC,QAAQ,IAAI;AAC/CC,EAAAA,KAAK,iDAA0CkC,OAA1C,EAAL;AACAnC,EAAAA,QAAQ,CAAC;AACLa,IAAAA,IAAI,EAAEf;AADD,GAAD,CAAR;AAGH,CALM;AASP,OAAO,MAAMsC,YAAY,GAAI7B,IAAD,IAAUP,QAAQ,IAAI;AAC9CA,EAAAA,QAAQ,CAAC;AACLa,IAAAA,IAAI,EAAElB,aADD;AAELkC,IAAAA,OAAO,EAAEtB;AAFJ,GAAD,CAAR;AAIH,CALM;AAOP,OAAO,MAAM8B,gBAAgB,GAAG,MAAMrC,QAAQ,IAAI;AAC9CA,EAAAA,QAAQ,CAAC;AACLa,IAAAA,IAAI,EAAEjB;AADD,GAAD,CAAR;AAGH,CAJM","sourcesContent":["import {FETCH_COLLECTION, ADD_PLAYER, REMOVE_PLAYER, REMOVE_ALL_PLAYERS, START_GAME, GET_PLAYERS} from './types'\n\n\n\nexport const getQuestions = () => dispatch => {\n    fetch('http://localhost:3000/collectioncards')\n    .then(res => res.json())\n    .then((collection) => {\n        var title = collection[0].name\n        var questions = [];\n\n        collection.map((index) => (\n            questions.push(index.prompt)\n        ))\n        \n        dispatch({\n            type: FETCH_COLLECTION,\n            title,\n            questions\n        })\n    } \n    )\n}\n\nexport const startGame = () => dispatch =>  {\n    dispatch({\n        type: START_GAME\n    })\n}\n\nfunction handleErrors(response) {\n    if(!response.ok) throw Error(reponse.status)\n    return response\n}\n\nexport const addPlayer = (player) => dispatch => {\n        fetch('http://localhost:3000/players-in-game', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(player)\n        })\n        .then(handleErrors)\n        .then(res => res.json())\n        .then(newplayer => dispatch({\n            type: ADD_PLAYER,\n            payload: newplayer\n        }))\n        .catch(error => console.log(error));\n}\n\nexport const getPlayers = (room_id) => dispatch => {\n    fetch(`http://localhost:3000/players-in-room/${room_id}`)\n    dispatch({\n        type: GET_PLAYERS\n    })\n}\n\n\n\nexport const removePlayer = (name) => dispatch => {\n    dispatch({\n        type: REMOVE_PLAYER,\n        payload: name\n    })\n}\n\nexport const removeAllPlayers = () => dispatch => {\n    dispatch({\n        type: REMOVE_ALL_PLAYERS\n    })\n}"]},"metadata":{},"sourceType":"module"}